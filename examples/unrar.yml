#
# Configuration for 'unrar' (a CLI tool from the 'contrib' component)
#
version: 1

# --- Application Metadata ---
app_name: "UnRAR (contrib)"
container_name: "debox-unrar"

# --- Container Image Definition ---
image:
  base: "debian:latest"
  
  # --- NEW: Enable the 'contrib' component ---
  # This tells debox to add 'contrib' to the main 'debian.sources' file
  # before trying to install packages.
  debian_components:
    - "contrib"
    - "non-free"

  # No external repositories are needed
  repositories:

  # apt_target_release is not needed

  packages:
    # 'unrar' is the package we want from 'contrib'
    - "unrar"
    - "python3" # For keep_alive.py
    - "locales" # For locale generation

# --- Storage Configuration ---
storage:
  # Mount the Downloads folder, as that's a common place for archives
  volumes:
    - "~/Pobrane:/home/marcin/Pobrane"

# --- Runtime Process Configuration ---
runtime:
  # Set the default command for 'debox run debox-unrar'
  default_exec: "unrar"
  prepend_exec_args: []

# --- Desktop Integration Configuration ---
integration:
  # This is a command-line tool, no .desktop file or icons needed
  desktop_integration: false
  
  # Explicitly create an alias in ~/.local/bin/
  # We name it 'unrar-debox' to avoid conflicts if 'unrar' is already on the host
  aliases:
    "unrar": "unrar-debox"

# --- Permissions ---
permissions:
  # All permissions can be locked down for maximum isolation
  network: false
  bluetooth: false
  gpu: false
  sound: false
  webcam: false
  microphone: false
  printers: false
  system_dbus: false
  devices: []