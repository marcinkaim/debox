#
# Configuration for 'neovim' (CLI editor from backports)
#
version: 1

# --- Application Metadata ---
app_name: "Neovim (from Backports)"
container_name: "debox-neovim-bp"

# --- Container Image Definition ---
image:
  # --- Use 'debian:stable' ---
  # We use 'stable' (Bookworm) because backports are designed for it.
  # 'debian:latest' (Trixie) would already have the new version.
  base: "debian:oldstable"
  
  # No extra components needed from the base repo
  debian_components: []

  # --- Add the Backports repository ---
  repositories:
    - # This is a standard Debian repo, so no 'key_url' or 'key_path' is needed.
      repo_string: "deb http://deb.debian.org/debian bookworm-backports main"
      # Give it a specific filename in /etc/apt/sources.list.d/
      list_filename: "backports.list"

  # --- Set the APT target ---
  # This tells 'apt-get install' to look for packages in 'bookworm-backports'
  # by default (equivalent to 'apt -t bookworm-backports install ...')
  apt_target_release: "bookworm-backports"

  packages:
    # 'neovim' will now be pulled from backports
    - "neovim"
    - "python3" # For keep_alive.py
    - "locales" # For locale generation
    - "git"     # Often used with neovim

# --- Storage Configuration ---
storage:
  # Mount the repositories directory
  volumes:
    - "~/Repozytoria:/home/marcin/Repozytoria"

# --- Runtime Process Configuration ---
runtime:
  default_exec: "nvim"
  prepend_exec_args: []

# --- Desktop Integration Configuration ---
integration:
  # CLI tool, no desktop files needed
  desktop_integration: false
  
  # Create an alias 'nvim-bp' to avoid conflict with host's 'nvim'
  aliases:
    "nvim": "nvim-bp"

# --- Permissions ---
permissions:
  # Enable network for downloading plugins, language servers, etc.
  network: true
  bluetooth: false
  gpu: false
  sound: false
  webcam: false
  microphone: false
  printers: false
  system_dbus: false
  devices: []